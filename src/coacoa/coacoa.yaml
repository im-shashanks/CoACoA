# coacoa/coacoa.yaml  â€”  v0.1.0-beta  (BMAD-compatible superset)
coa:

  # ---------- PATHS ----------
  paths:
    analysis:        context/analysis.md
    module_map:      context/intelligence/module_map.json
    dep_graph:       context/intelligence/dep_graph.json
    dependencies:    context/intelligence/dependencies.json
    cycles:          context/intelligence/cycles.json
    complexity:      context/intelligence/complexity.json
    hotspots:        context/intelligence/hotspots.json
    coverage:        context/intelligence/coverage.json
    build_info:       context/intelligence/build_info.json   
    docs_dir:        docs/
    adr_dir:         docs/adr/                 # Architecture Decision Records

  # ---------- PRD ----------
  prd:
    main:            docs/prd.md
    sharded:         true
    shard_dir:       docs/prd

  # ---------- UI / UX ----------
  templates:
    ui_ux:           templates/ui_ux.md       # Green- & brown-field reference

  # ---------- ARCHITECTURE ----------
  arch:
    main:            docs/architecture.md
    sharded:         true
    shard_dir:       docs/architecture

  # ---------- FILE PREFIXES ----------
  file_prefixes:
    story:           "s_"
    epic:            "e_"
    domain_doc:      "d_"

  # ---------- DATA (shared knowledge) ----------
  data:
    tech_prefs:      data/tech_preferences.md
    style_guides:    data/style_guides/
    pattern_library: data/pattern_library/
    language_rules:  data/language_rules.md

  # ---------- WORKFLOWS ----------
  workflows:
    greenfield:      workflows/default_greenfield.yml
    brownfield:      workflows/default_brownfield.yml

  # ---------- QUALITY CHECKS ----------
  quality:
    anti_hallucination:   quality/anti_hallucination.md
    link_integrity:       quality/link_integrity.md
    qa:                   quality/qa.md
    arch_integrity:       quality/architecture_integrity.md
    build_integrity:  quality/build_integrity.md

  # ---------- LIMITS ----------
  limits:
    max_snippet_loc:      120        # LOC injected per story
    max_tokens_context:   12000      # Soft prompt budget
    refactor_batch_size:  200        # LOC per refactor step

  # ---------- BRANCHING ----------
  branching:
    brownfield_trigger:   context/analysis.md

  # ---------- ORCHESTRATOR ----------
  orchestrator:
    parallel_stories:     3
    retry_failed_tasks:   true

  # ---------- LLM DEFAULTS ----------
  llm:
    default:       claude-sonnet-4.0
    temperature:   0.2
    top_p:         1.0